<nav class="nav justify-content-center py-3 text-capitalize font-weight-bold">Mis locales registrados</nav>

<div class="cuerpo p-4">
  <div class="h-100 shadow bg-light">
    <div *ngIf="idLocales.length === 0">
      No has registrado ningun local
    </div>
    <div *ngIf="idLocales.length !== 0">
      <ul class="p-4 lista">
        <li class="list-group-item border mb-2" *ngFor="let item of locales;">
          <div class="d-flex justify-content-between
                    align-items-center" *ngIf="!idTurno.includes(item.idLocal.toString())">
            <div class="col-7">{{ item.nombre }}
            </div>
            <div class="col-5">
              <div class="row">
                <button class="offset-sm-0 offset-md-4 col-2 col-xxs-1 col-md-4 btn btn-info" id="ver"
                  (click)="pedirNumero(item.idLocal)">Pedir Turno</button>
                <button class="offset-xxs-1 col-2 col-xxs-1 col-md-2 btn btn-danger" id="eliminar"
                  (click)="menuConfirmacion(item)">
                  <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="-40 0 427 427.00131" width="20px"
                    fill="white">
                    <path
                      d="m232.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0" />
                    <path
                      d="m114.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0" />
                    <path
                      d="m28.398438 127.121094v246.378906c0 14.5625 5.339843 28.238281 14.667968 38.050781 9.285156 9.839844 22.207032 15.425781 35.730469 15.449219h189.203125c13.527344-.023438 26.449219-5.609375 35.730469-15.449219 9.328125-9.8125 14.667969-23.488281 14.667969-38.050781v-246.378906c18.542968-4.921875 30.558593-22.835938 28.078124-41.863282-2.484374-19.023437-18.691406-33.253906-37.878906-33.257812h-51.199218v-12.5c.058593-10.511719-4.097657-20.605469-11.539063-28.03125-7.441406-7.421875-17.550781-11.5546875-28.0625-11.46875h-88.796875c-10.511719-.0859375-20.621094 4.046875-28.0625 11.46875-7.441406 7.425781-11.597656 17.519531-11.539062 28.03125v12.5h-51.199219c-19.1875.003906-35.394531 14.234375-37.878907 33.257812-2.480468 19.027344 9.535157 36.941407 28.078126 41.863282zm239.601562 279.878906h-189.203125c-17.097656 0-30.398437-14.6875-30.398437-33.5v-245.5h250v245.5c0 18.8125-13.300782 33.5-30.398438 33.5zm-158.601562-367.5c-.066407-5.207031 1.980468-10.21875 5.675781-13.894531 3.691406-3.675781 8.714843-5.695313 13.925781-5.605469h88.796875c5.210937-.089844 10.234375 1.929688 13.925781 5.605469 3.695313 3.671875 5.742188 8.6875 5.675782 13.894531v12.5h-128zm-71.199219 32.5h270.398437c9.941406 0 18 8.058594 18 18s-8.058594 18-18 18h-270.398437c-9.941407 0-18-8.058594-18-18s8.058593-18 18-18zm0 0" />
                    <path
                      d="m173.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
          <div class="d-flex justify-content-between
                    align-items-center" *ngIf="idTurno.includes(item.idLocal.toString())">
            <div class="col-2">{{ item.nombre }}
            </div>
            <div class="col-2 turno">
              Tu turno es el {{ turnos.get(item.idLocal.toString()) }}
            </div>
            <div class="col-3">
              Turno actual: {{ item.turnoActual }}
            </div>
            <div class="col-5">
              <div class="row">
                <button class="offset-0 col-3 btn btn-info" (click)="verTurno(item)" id="ver">Ver Turno</button>
                <button class="offset-1 col-4 btn btn-warning" id="cancelar" (click)="menuCancelar(item)">Cancelar
                  Turno</button>
                <button class="offset-1 col-2 btn btn-danger" id="eliminar" (click)="menuConfirmacion(item)">
                  <svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="-40 0 427 427.00131" width="20px"
                    fill="white">
                    <path
                      d="m232.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0" />
                    <path
                      d="m114.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0" />
                    <path
                      d="m28.398438 127.121094v246.378906c0 14.5625 5.339843 28.238281 14.667968 38.050781 9.285156 9.839844 22.207032 15.425781 35.730469 15.449219h189.203125c13.527344-.023438 26.449219-5.609375 35.730469-15.449219 9.328125-9.8125 14.667969-23.488281 14.667969-38.050781v-246.378906c18.542968-4.921875 30.558593-22.835938 28.078124-41.863282-2.484374-19.023437-18.691406-33.253906-37.878906-33.257812h-51.199218v-12.5c.058593-10.511719-4.097657-20.605469-11.539063-28.03125-7.441406-7.421875-17.550781-11.5546875-28.0625-11.46875h-88.796875c-10.511719-.0859375-20.621094 4.046875-28.0625 11.46875-7.441406 7.425781-11.597656 17.519531-11.539062 28.03125v12.5h-51.199219c-19.1875.003906-35.394531 14.234375-37.878907 33.257812-2.480468 19.027344 9.535157 36.941407 28.078126 41.863282zm239.601562 279.878906h-189.203125c-17.097656 0-30.398437-14.6875-30.398437-33.5v-245.5h250v245.5c0 18.8125-13.300782 33.5-30.398438 33.5zm-158.601562-367.5c-.066407-5.207031 1.980468-10.21875 5.675781-13.894531 3.691406-3.675781 8.714843-5.695313 13.925781-5.605469h88.796875c5.210937-.089844 10.234375 1.929688 13.925781 5.605469 3.695313 3.671875 5.742188 8.6875 5.675782 13.894531v12.5h-128zm-71.199219 32.5h270.398437c9.941406 0 18 8.058594 18 18s-8.058594 18-18 18h-270.398437c-9.941407 0-18-8.058594-18-18s8.058593-18 18-18zm0 0" />
                    <path
                      d="m173.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
<div class="mt-4 text-center">
  <label>A単adir un local: <input [(ngModel)]="id" type="number"></label>
  <button class="btn btn-outline-primary ml-2" (click)="registrarLocal()">A単adir</button>
</div>

<ng-template #modalConfirmacion let-modal>

  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">Eliminar el registro</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="modal.close()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <h3>多Quieres eliminar el registro de {{ local.nombre }}?</h3>
      <div class="d-flex justify-content-between mt-4">
        <button class="btn btn-outline-primary ml-3" (click)="modal.close(); eliminarRegistro()">Si</button>
        <button class="btn btn-outline-danger mr-3" (click)="modal.close()">No</button>
      </div>
    </div>
  </div>

</ng-template>

<ng-template #modalTurno let-modal>

  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">Tu turno en {{ local.nombre }} es el</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="modal.close()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <p class="text-center" style="font-size: 100px;">{{ turno }}</p>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.close()">Cerrar</button>
    </div>
  </div>

</ng-template>

<ng-template #modalCancelar let-modal>

  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">Cancelar Turno</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="modal.close()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <h3>多Quieres cancelar turno?</h3>
      <div class="d-flex justify-content-between mt-4">
        <button class="btn btn-outline-primary ml-3" (click)="modal.close(); cancelarTurno()">Si</button>
        <button class="btn btn-outline-danger mr-3" (click)="modal.close()">No</button>
      </div>
    </div>
  </div>

</ng-template>
